<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>File: DEVELOPERS.TXT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
  <table border='0' cellpadding='0' cellspacing='0' width="100%" class='banner'>
  <tr><td>
    <table width="100%" border='0' cellpadding='0' cellspacing='0'><tr>
      <td class="file-title" colspan="2"><span class="file-title-prefix">File</span><br />DEVELOPERS.TXT</td>
      <td align="right">
        <table border='0' cellspacing="0" cellpadding="2">
          <tr>
            <td>Path:</td>
            <td>DEVELOPERS.TXT
            </td>
          </tr>
          <tr>
            <td>Modified:</td>
            <td>Fri Feb 18 08:09:48 +0000 2011</td>
          </tr>
        </table>
      </td></tr>
    </table>
  </td></tr>
</table><br />
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">

  <div class="description"><h1>Developers information</h1>
<h2>Required software</h2>
<p>
The tests need the following software installed:
</p>
<ul>
<li>All the usual Phusion Passenger dependencies.

</li>
<li>Ruby on Rails 1.2.x

</li>
<li>Ruby on Rails 2.0.x

</li>
<li>Ruby on Rails 2.2.x

</li>
<li>Ruby on Rails 2.3.x

</li>
<li>Ruby on Rails 3.0.x

</li>
<li>rspec &gt;= 1.1.2

</li>
<li>mime-types &gt;= 1.15

</li>
<li>sqlite3-ruby

</li>
</ul>
<p>
The following software is optional:
</p>
<ul>
<li>RCov, for code coverage

</li>
<li>RDoc, for generating HTML Ruby API documentation

</li>
<li>Doxygen, for generating HTML C++ API documentation

</li>
<li>dot (part of Graphviz), for generating diagrams in HTML API documentation

</li>
<li>The font &quot;Bitstream Vera Sans&quot;, used in the class diagrams. See
<a href="http://www.gnome.org/fonts">www.gnome.org/fonts</a>

</li>
<li>AsciiDoc &gt;= 8.2.5, for converting various doc/*.txt documents to HTML

</li>
</ul>
<h2>Compiling Phusion Passenger</h2>
<p>
Run the following command to compile everything:
</p>
<pre>
 rake apache
 rake nginx
</pre>
<h2>Directory structure</h2>
<p>
The most important directories are:
</p>
<dl>
<dt> lib/phusion_passenger </dt><dd>The source code for the spawn server, which is written in Ruby.

</dd>
<dt> ext/phusion_passenger </dt><dd>Native extensions for Ruby, used by the spawn server.

</dd>
<dt> ext/apache2 </dt><dd>Apache 2-specific source code.

</dd>
<dt> ext/nginx </dt><dd>Nginx-specific source code.

</dd>
<dt> ext/common </dt><dd>Source code shared by the Apache and Nginx modules.

</dd>
<dt> bin </dt><dd>User executables.

</dd>
<dt> helper-scripts </dt><dd>Scripts used during runtime, but not directly executed by the user.

</dd>
<dt> doc </dt><dd>Various documentation.

</dd>
<dt> test </dt><dd>Unit tests and integration tests.

</dd>
<dt> test/support </dt><dd>Support/utility code, used in the tests.

</dd>
<dt> test/stub </dt><dd>Stub code, used in the tests.

</dd>
</dl>
<p>
Less important directories:
</p>
<dl>
<dt> ext/boost </dt><dd>A stripped-down and customized version of the Boost C++ library (<a
href="http://www.boost.org">www.boost.org</a>).

</dd>
<dt> ext/oxt </dt><dd>The &quot;OS eXtensions for boosT&quot; library, which provides various
important functionality necessary for writing robust server software. It
provides things like support for interruptable system calls and portable
backtraces for C++. Boost was modified to make use of the functionality
provided by OXT.

</dd>
<dt> dev </dt><dd>Tools for Phusion Passenger developers. Not used during production.

</dd>
<dt> resources </dt><dd>Various resource files, used during production.

</dd>
<dt> debian </dt><dd>Debian packaging files.

</dd>
<dt> man </dt><dd>Man pages.

</dd>
<dt> build </dt><dd>Rake tasks used by the build system.

</dd>
</dl>
<h2>Tests</h2>
<p>
Run all tests:
</p>
<pre>
 rake test
</pre>
<p>
Run only the unit tests for the C++ components:
</p>
<pre>
 rake test:cxx
</pre>
<p>
Run just the unit tests for the Ruby spawn server:
</p>
<pre>
 rake test:ruby
</pre>
<p>
Run just the integration tests:
</p>
<pre>
 rake test:integration            # All integration tests.
 rake test:integration:apache2    # Just integration tests for Apache 2.
 rake test:integration:nginx      # Just integration tests for Nginx.
</pre>
<p>
Notes:
</p>
<ul>
<li>Some tests, such as the ones that test privilege lowering, require root
privileges. Those will only be run if Rake is run as root.

</li>
<li>Some tests will be run against multiple Rails versions in order to test
compatibility. This can take a long time. If you want to test against only
a single Rails version, then set the environment variable
ONLY_RAILS_VERSION to one of the subdirectory names in
test/stub/rails_apps, e.g. &#8216;export ONLY_RAILS_VERSION=2.3&#8216;

</li>
</ul>
<h2>Documentation</h2>
<p>
Various developer documents can be found in &#8216;doc/*.html&#8217;.
</p>
<p>
The Ruby part&#8216;s API reference is located in &#8216;doc/rdoc/&#8217;.
The C++ part&#8216;s API reference is located in &#8216;doc/cxxapi/&#8217;.
</p>
</div>









</div>

  </div>

    </body>
</html>